import{Q as Z,f as q,ar as F,ap as L,aq as G,aE as ve,x as me,e as x,j as a,k as t,l as s,O as k,m as d,u as e,bn as z,q as U,bo as ue,t as r,d as n,_ as w,J as A,n as V,P as ye,bp as fe,bq as he,N as g,ac as J,W,K as X,br as H,c as N,bs as ne,bt as ae,bu as Ce,bv as $e,bw as be,bx as ke,by as ge,bz as xe,bA as Te,bB as oe,a2 as Ie,a3 as pe,a4 as E,a5 as M,a6 as Pe,a7 as we,a8 as Se,a9 as Re,aa as I,U as ie,ab as re,V as ce,X as le,ad as j,bC as Ne,h as Me,bD as Ve,bE as De,bF as Q,bG as Ae,ag as Ee,aj as Fe}from"./index-xJNJdMR5.js";import{L as Le,s as D,a as B,S as _e}from"./index-CuTFvFhN.js";import{i as Be,a as Oe,L as ee}from"./index-D_YCQ_dN.js";import{s as Ue,g as Ye}from"./model-C_6bhlvy.js";function Ge(){D.value?(console.log("side login",B.value),B.value.close(),D.value=!1):me().skey?D.value=!0:F.push("/login?from=pay")}function He(){ve(Le,{})}const se=Z("input",y=>{function p(){const c=L().currentPayChildPage;c===G.LIST?F.push("/home"):c===G.SWITCH?L().setCurrentPayChildPage(G.LIST):F.back()}return{exposed:{isLoginPage:q(F.currentRoute.value.name==="login"),back:p,change:Ge,pcLogin:He}}}),je={class:"pcNav"},Ke={class:"pcNavInner"},qe=x({__name:"index.pc",setup(y){const{change:p,pcLogin:o}=se();return(i,c)=>{var l;return t(),a("div",je,[s("div",Ke,[e(z)()?(t(),a("div",{key:0,class:"pcNav__user",onClick:c[0]||(c[0]=(...v)=>e(p)&&e(p)(...v))},[s("div",{class:"pcNav__userIcon",style:U(e(z)()?{backgroundImage:"url(".concat((l=e(ue)())==null?void 0:l.icon,")")}:{})},null,4)])):(t(),a("div",{key:1,class:"pcNav__login",onClick:c[1]||(c[1]=(...v)=>e(o)&&e(o)(...v))},r(e(n._T)("去登录")),1)),c[2]||(c[2]=s("div",{class:"pcNav__logo -ksa"},null,-1))]),e(D)?(t(),k(_e,{key:0,ref_key:"sideLogin",ref:B,show:e(D)},null,8,["show"])):d("",!0)])}}}),ze=w(qe,[["__scopeId","data-v-7a284667"]]),Je={class:"phoneNav"},We={class:"titleContainer"},Xe={class:"name"},Qe={key:0,class:"subtitle"},Ze=x({__name:"index.mobile",props:{title:{}},setup(y){const{back:p,change:o,isLoginPage:i}=se();return(c,l)=>{var v;return t(),a(A,null,[s("div",Je,[s("div",We,[s("div",Xe,r(c.title),1),e(Be)?(t(),a("div",Qe,r(e(n._T)("支付环境安全")),1)):d("",!0)]),s("div",{class:"close",onClick:l[0]||(l[0]=(...f)=>e(p)&&e(p)(...f))}),e(i)?d("",!0):(t(),a("div",{key:0,class:"avatar",onClick:l[1]||(l[1]=(...f)=>e(o)&&e(o)(...f)),style:U(e(z)()?{backgroundImage:"url(".concat((v=e(ue)())==null?void 0:v.icon,")")}:{})},null,4))]),e(D)?(t(),k(_e,{key:0,ref_key:"sideLogin",ref:B,show:e(D)},null,8,["show"])):d("",!0)],64)}}}),es=w(Ze,[["__scopeId","data-v-c78acaaf"]]),ss={class:"nav-cc"},ts={dir:"rtl"},ns=x({__name:"index",props:{title:{}},setup(y,{expose:p}){const{exposed:o}=se();return p(o),(i,c)=>(t(),a("div",ss,[s("div",{class:V(["mockDetecting",{showDetecting:e(Oe)}])},[s("p",ts,r(e(n._T)("支付环境安全检测中...")),1)],2),e(ye)()?(t(),k(ze,{key:0})):(t(),k(es,{key:1,title:i.title},null,8,["title"]))]))}}),as=w(ns,[["__scopeId","data-v-cf228741"]]),os=x({__name:"index",props:{scheme:{}},setup(y){function p(o){return o==="American Express"?"amex":o==="Visa"?"visa":o==="Diners Club"?"diners":o==="Discover"?"discover":o==="JCB"?"jcb":o==="Mastercard"?"mastercard":o==="apple_pay"?"apple":""}return(o,i)=>(t(),a("div",{class:V(["card-scheme",[p(o.scheme)]])},null,2))}}),O=w(os,[["__scopeId","data-v-39e65328"]]),is={key:0,class:"loading"},rs={class:"text"},cs={key:1,class:"card-content-c"},ls={class:"card-num-c"},ds={class:"card-num"},us={key:0,class:"expiry-warning-tips"},ps={class:"op-c"},_s={key:1,class:"card-num-c"},vs={key:2,class:"card-select"},ms=x({__name:"index",props:{card:{},isPulling:{type:Boolean},showPullingView:{type:Boolean}},setup(y,{expose:p}){const{exposed:o,onDelete:i,onUpdate:c,selected:l,isExpired:v,isPulling:f,showPullingView:m,isNearbyExpired:h}=fe();return p(o),($,_)=>(t(),a("div",{class:"recently-item-c",onClick:_[2]||(_[2]=C=>e(he)($.card))},[e(m)?(t(),a(A,{key:0},[e(f)?(t(),a("div",is)):d("",!0),s("div",rs,r(e(f)?e(n._T)("正在拉取卡号"):e(n._T)("没有拉取到卡号")),1)],64)):(t(),a("div",cs,[$.card.bin!=="000000"?(t(),a(A,{key:0},[s("div",ls,[g(O,{scheme:$.card.scheme,class:"card-scheme-icon"},null,8,["scheme"]),s("div",ds,r("".concat($.card.bin,"******").concat($.card.last4)),1)]),e(v)||e(h)?(t(),a("div",us,r(e(v)?e(n.sprintf)(e(n._T)("有效期({date})已过期，请更新卡片有效期"),{date:$.card.card_valid_date}):e(h)?e(n.sprintf)(e(n._T)("有效期({date})不足60天，请尽快更新卡片"),{date:$.card.card_valid_date}):""),1)):d("",!0),s("div",ps,[(e(v)||e(h))&&e(J)($.card)?(t(),a("div",{key:0,class:"update-expire btn",onClick:_[0]||(_[0]=W(C=>e(c)($.card),["stop"]))},r(e(n._T)("更新有效期")),1)):d("",!0),s("div",{class:"delete-card btn",onClick:_[1]||(_[1]=W((...C)=>e(i)&&e(i)(...C),["stop"]))},r(e(n._T)("删除卡号")),1)])],64)):(t(),a("div",_s,[g(O,{scheme:$.card.scheme,class:"card-scheme-icon"},null,8,["scheme"]),_[3]||(_[3]=s("div",{class:"card-num"},"Apple Pay",-1))]))])),e(l)?(t(),a("div",vs)):d("",!0)]))}}),K=w(ms,[["__scopeId","data-v-2b17fe44"]]),ys={class:"channel-list"},fs=["onClick"],hs={key:0,class:"pay-name"},Cs={key:1,class:"pay-banks"},$s={key:2,class:"apple-pay-c"},bs={key:3,class:"pay-active"},ks=x({__name:"index",setup(y,{expose:p}){const{exposed:o,availableChannelList:i,selectChannel:c,isChannelActive:l}=Ue();return p(o),(v,f)=>(t(),a("div",ys,[(t(!0),a(A,null,X(e(i),m=>(t(),a("div",{key:m.displayName,class:"channel-item",onClick:h=>e(c)(m)},[m.displayName!==e(H).Apple?(t(),a("div",hs,r(m.displayName),1)):d("",!0),m.displayName!==e(H).Apple?(t(),a("div",Cs,[(t(!0),a(A,null,X(e(Ye)(m.displayName),h=>(t(),a("div",{class:V(["pay-bank",{["".concat(h)]:!0}]),key:h},null,2))),128))])):d("",!0),m.displayName===e(H).Apple?(t(),a("div",$s,f[0]||(f[0]=[s("div",{class:"icon"},null,-1),s("div",{class:"text"},"Apple Pay",-1)]))):d("",!0),e(l)(m)?(t(),a("div",bs)):d("",!0)],8,fs))),128))]))}}),gs="pay-drawer-home",xs={},Ts=Z(gs,()=>{const y=L(),p=q(!1);q(new Array(5).fill(0).map(_=>({to_uid:2003015796,source_id:"src_goxk47bx2tvura5gduimbo3ffi",last4:"4242",bin:"424242",scheme:"Visa",fingerprint:"D76FB3473F681816F11844CA43597C3DBE27029E9725FDC79BD6E94548FD30CD",issuer_country:"GB",card_valid_date:"03/33",h5_deviceid:"89c8f803c6fb0b868d19d0bea6900d4b",is_remember:!0,login:!1,uid:"",time_stamp:1713965288647})));const o=N(()=>{const _=y.savedCards;if(y.currentPayItem){const C=ne(y.currentPayItem);return C.indexOf(ae.CKO_CARD)>=0||C.indexOf(ae.ADYEN_CARD)>=0?Ce(_).filter(P=>$e(y.currentPayItem,P)).filter(P=>P.source_id).slice(0,3):[]}else throw new Error("currentPayItem为空")}),i=N(()=>{const _=y.savedCards;if(y.currentPayItem){const C=ne(y.currentPayItem);for(let u of be)if(C.includes(u))return ke(_);return null}throw new Error("currentPayItem为空")}),c=N(()=>y.currentDisplayMethod),l=N(()=>y.currentPayType),v=N(()=>y.currentCard),f=N(()=>y.currentPayItem),m=N(()=>xe.value===Te.拉取中&&ge.value);function h(){}return{exposed:{isScrollTop:p,cards:o,currentCard:v,currentDisplayMethod:c,currentPayType:l,currentPayItem:f,appleCard:i,close:h,isPulling:m}}}),Is={class:"phome"},Ps={class:"drMoney__num"},ws=["innerHTML"],Ss={class:"phome__way",dir:"auto"},Rs={class:"phome__area"},Ns={key:0,class:"phome__subtitle",dir:"auto"},Ms={class:"phome__section"},Vs={class:"phome__subtitle",dir:"auto"},Ds={class:"phome__section"},As=x({__name:"home.pc",setup(y,{expose:p}){const{exposed:o,cards:i,currentPayItem:c,isScrollTop:l,appleCard:v,isPulling:f}=Ts();return p(o),(m,h)=>{var $,_;return t(),a("div",Is,[s("div",{class:V(["drMoney",{"-top":e(l)}])},[s("div",Ps,r("$".concat((($=e(c))==null?void 0:$.amount)||0)),1),s("div",{class:"drMoney__desc",dir:"auto",innerHTML:e(n.sprintf)(e(n._T)("获得{n}钻石"),{n:"<span class='drMoney__descSpan'>".concat((_=e(c))==null?void 0:_.coin,"</span>")})},null,8,ws)],2),s("div",Ss,r(e(n._T)("选择支付方式")),1),s("div",Rs,[e(i).length>0?(t(),a("div",Ns,r(e(n._T)("最近使用")),1)):d("",!0),s("div",Ms,[e(v)?(t(),k(K,{key:0,class:"phome__item",card:e(v)},null,8,["card"])):d("",!0),e(f)?(t(),k(K,{key:1,class:"phome__item","show-pulling-view":e(f),"is-pulling":e(f),card:e(xs)},null,8,["show-pulling-view","is-pulling","card"])):d("",!0),(t(!0),a(A,null,X(e(i),(C,u)=>(t(),k(K,{class:"phome__item",card:C,key:C.source_id},null,8,["card"]))),128)),e(i).length>0?(t(),a("div",{key:2,class:"phome__newcard",dir:"auto",onClick:h[0]||(h[0]=(...C)=>e(oe)&&e(oe)(...C))},r(e(n._T)("使用新的银行卡")),1)):d("",!0)]),s("div",Vs,r(e(n._T)("其他支付方式")),1),s("div",Ds,[g(ks)])])])}}}),Es=w(As,[["__scopeId","data-v-0ff78862"]]),Fs={class:"cko-frames-c"},Ls={class:"drMoney__num"},Bs={class:"frames-subtitle",dir:"auto"},Os={class:"try-again-tips"},Us={class:"try-again-btn"},Ys={class:"cvv-expiry-c"},Gs={key:1,class:"loading-c"},Hs=x({__name:"index.pc",setup(y,{expose:p}){const{exposed:o,cardHolderName:i,onNameChange:c,showFrames:l,cvvRef:v,expiryRef:f,cardRef:m,cardScheme:h,onNameBlur:$,onNameFocus:_,nameRef:C,onNameInput:u,currentPayItem:P,noRememberCard:S,showCvvTips:b}=Ie();return p(o),(te,R)=>{var T;return t(),a("div",Fs,[s("div",{class:V(["drMoney -nano",{"-top":!1}])},[s("div",Ls,r(e(n.sprintf)(e(n._T)("您正在支付{n}"),{n:"$".concat(((T=e(P))==null?void 0:T.amount)||"")})),1)]),s("div",Bs,r(e(n._T)("填写银行卡信息")),1),e(S)?(t(),a("div",{key:0,class:"try-again",onClick:R[0]||(R[0]=Y=>e(pe)(e(S)))},[s("div",Os,r(e(n.sprintf)(e(n._T)("你上次使用过{card}，请问要用它进行支付吗？"),{card:"".concat(e(S).bin,"******").concat(e(S).last4)})),1),s("div",Us,r(e(n._T)("是的，自动填写卡号")),1)])):d("",!0),s("div",{class:"frames-c",style:U({opacity:e(l)?1:0})},[g(M,{title:e(n._T)("银行卡卡号"),"use-slot":!0,class:"card-number-frame-c","title-icon-class":"title-unused-icon","icon-class":"frames-unused-icon",ref_key:"cardRef",ref:m},{default:E(()=>[e(h)?(t(),k(O,{key:0,scheme:e(h),class:"card-scheme-icon"},null,8,["scheme"])):d("",!0),R[1]||(R[1]=s("div",{class:"card-number-frame"},null,-1))]),_:1},8,["title"]),g(M,{title:e(n._T)("持卡人名字"),class:"card-number-frame-c","title-icon-class":"title-unused-icon","icon-class":"frames-unused-icon","input-class":"holder-input",value:e(i),ref_key:"nameRef",ref:C,onchange:e(c),blur:e($),input:e(u),focus:e(_)},null,8,["title","value","onchange","blur","input","focus"]),s("div",Ys,[g(M,{"use-slot":!0,title:"".concat(e(n._T)("(MM/YY)")+e(n._T)("有效时间")),class:"card-number-frame-c","title-icon-class":"title-unused-icon","icon-class":"frames-unused-icon",ref_key:"expiryRef",ref:f},{default:E(()=>R[2]||(R[2]=[s("div",{class:"expiry-date-frame"},null,-1)])),_:1},8,["title"]),g(M,{"use-slot":!0,title:e(n._T)("CVV"),class:"card-number-frame-c cvv-frame-c","title-icon-class":"cvv-title-icon",titleIconFunc:e(b),"icon-class":"frames-unused-icon",ref_key:"cvvRef",ref:v},{default:E(()=>R[3]||(R[3]=[s("div",{class:"cvv-frame"},null,-1)])),_:1},8,["title","titleIconFunc"])])],4),e(l)?d("",!0):(t(),a("div",Gs,[g(ee)]))])}}}),js=w(Hs,[["__scopeId","data-v-30b457c6"]]),Ks={class:"cko-frames-c"},qs={class:"drMoney__num"},zs={class:"frames-subtitle",dir:"auto"},Js={class:"try-again-tips"},Ws={class:"try-again-btn"},Xs={class:"cvv-expiry-c"},Qs={key:1,class:"loading-c"},Zs=x({__name:"index.pc",setup(y,{expose:p}){const{exposed:o,cardHolderName:i,onNameChange:c,showFrames:l,cvvRef:v,expiryRef:f,cardRef:m,cardScheme:h,onNameBlur:$,onNameFocus:_,nameRef:C,onNameInput:u,btnDisable:P,currentPayItem:S,noRememberCard:b,showCvvTips:te}=Pe();return p(o),(R,T)=>{var Y;return t(),a("div",Ks,[s("div",{class:V(["drMoney -nano",{"-top":!1}])},[s("div",qs,r(e(n.sprintf)(e(n._T)("您正在支付{n}"),{n:"$".concat(((Y=e(S))==null?void 0:Y.amount)||"")})),1)]),s("div",zs,r(e(n._T)("填写银行卡信息")),1),e(b)?(t(),a("div",{key:0,class:"try-again",onClick:T[0]||(T[0]=Ot=>e(pe)(e(b)))},[s("div",Js,r(e(n.sprintf)(e(n._T)("你上次使用过{card}，请问要用它进行支付吗？"),{card:"".concat(e(b).bin,"******").concat(e(b).last4)})),1),s("div",Ws,r(e(n._T)("是的，自动填写卡号")),1)])):d("",!0),s("div",{class:"frames-c",style:U({opacity:e(l)?1:0}),id:"adyen-frame-c"},[g(M,{title:e(n._T)("银行卡卡号"),"use-slot":!0,class:"card-number-frame-c","title-icon-class":"title-unused-icon","icon-class":"frames-unused-icon",ref_key:"cardRef",ref:m},{default:E(()=>[e(h)?(t(),k(O,{key:0,scheme:e(h),class:"card-scheme-icon"},null,8,["scheme"])):d("",!0),T[1]||(T[1]=s("span",{"data-cse":"encryptedCardNumber",class:"card-number-frame"},null,-1))]),_:1},8,["title"]),g(M,{title:e(n._T)("持卡人名字"),class:"card-number-frame-c","title-icon-class":"title-unused-icon","icon-class":"frames-unused-icon","input-class":"holder-input",value:e(i),ref_key:"nameRef",ref:C,onchange:e(c),blur:e($),input:e(u),focus:e(_)},null,8,["title","value","onchange","blur","input","focus"]),s("div",Xs,[g(M,{"use-slot":!0,title:"".concat(e(n._T)("(MM/YY)")+e(n._T)("有效时间")),class:"card-number-frame-c","title-icon-class":"title-unused-icon","icon-class":"frames-unused-icon",ref_key:"expiryRef",ref:f},{default:E(()=>T[2]||(T[2]=[s("span",{"data-cse":"encryptedExpiryDate",class:"expiry-date-frame"},null,-1)])),_:1},8,["title"]),g(M,{"use-slot":!0,title:e(n._T)("CVV"),class:"card-number-frame-c cvv-frame-c","title-icon-class":"cvv-title-icon",titleIconFunc:e(te),"icon-class":"frames-unused-icon",ref_key:"cvvRef",ref:v},{default:E(()=>T[3]||(T[3]=[s("span",{"data-cse":"encryptedSecurityCode",class:"cvv-frame"},null,-1)])),_:1},8,["title","titleIconFunc"])]),s("div",{class:V(["confirm",{disable:e(P)}]),style:{opacity:0}},r(e(n._T)("确定")),3)],4),e(l)?d("",!0):(t(),a("div",Qs,[g(ee)]))])}}}),et=w(Zs,[["__scopeId","data-v-f85342f4"]]),st=x({__name:"index.pc",setup(y,{expose:p}){const{exposed:o}=we();return p(o),(i,c)=>e(Se)?(t(),k(js,{key:0})):(t(),k(et,{key:1}))}}),tt={key:0},nt={class:"drMoney__num"},at={class:"frames-subtitle",dir:"auto"},ot={class:"pay-modal-desc"},it={key:0},rt={key:1},ct={class:"pay-modal-cvv-c-with-tips"},lt={class:"card-icon-wrap"},dt={class:"tips",dir:"auto"},ut={class:"cvv-input-wrap"},pt={key:0,id:"cvv-input-c"},_t=["maxlength"],vt={key:1},mt={class:"drMoney__num"},yt={class:"frames-subtitle",dir:"auto"},ft={class:"pay-modal-title-2"},ht={class:"pay-modal-card-c"},Ct={key:0,class:"pay-modal-card"},$t={class:"pay-modal-cvv-c"},bt={class:"text-c"},kt={key:0,id:"cvv-input-c",class:"cvv-input"},gt=["maxlength"],xt={key:2,class:"cvv-loading-position"},de=x({__name:"index.pc",setup(y,{expose:p}){const{exposed:o,curCVV:i,cvvLen:c,currentCard:l,onCVVInputChange:v,onCVVFocus:f,showCVVTips:m,currentPayItem:h,show:$,step:_}=Re();return p(o),(C,u)=>{var P,S;return t(),a(A,null,[e(_)===e(I).CARD_CVV?(t(),a("span",tt,[s("div",{class:V(["drMoney -nano",{"-top":!1}])},[s("div",nt,r(e(n.sprintf)(e(n._T)("您正在支付{n}"),{n:"$".concat(((P=e(h))==null?void 0:P.amount)||"")})),1)]),s("div",at,r(e(n._T)("填写银行卡信息")),1),s("div",ot,[e(l)?(t(),a("span",it,r(e(n.sprintf)(e(n._T)("请填写{card}的相关信息"),{card:"".concat(e(l).bin,"******").concat(e(l).last4)})),1)):(t(),a("span",rt,r(e(n._T)("currentCard为undefine")),1))]),s("div",ct,[s("div",lt,[u[9]||(u[9]=s("div",{class:"card-icon"},null,-1)),s("div",dt,r(e(n._T)("在卡背面的3位数字")),1)]),s("div",ut,[u[10]||(u[10]=s("div",{class:"text"},"CVV",-1)),u[11]||(u[11]=s("div",{class:"divider"},null,-1)),e(re)(e(l))?(t(),a("div",pt)):d("",!0),e(J)(e(l))?ie((t(),a("input",{key:1,class:"cvv-input frame-c input",style:{"user-select":"auto"},"onUpdate:modelValue":u[0]||(u[0]=b=>le(i)?i.value=b:null),type:"text",maxlength:e(c),pattern:"[0-9]*",onInput:u[1]||(u[1]=W((...b)=>e(v)&&e(v)(...b),["stop"])),onFocus:u[2]||(u[2]=()=>e(f)(!0)),onBlur:u[3]||(u[3]=()=>e(f)(!1))},null,40,_t)),[[ce,e(i)]]):d("",!0)])])])):d("",!0),e(_)===e(I).CARD_CVV_IS_NOT_REMEMBER?(t(),a("span",vt,[s("div",{class:V(["drMoney -nano",{"-top":!1}])},[s("div",mt,r(e(n.sprintf)(e(n._T)("您正在支付{n}"),{n:"$".concat(((S=e(h))==null?void 0:S.amount)||"")})),1)]),s("div",yt,r(e(n._T)("填写银行卡信息")),1),s("div",ft,r(e(n._T)("银行卡卡号")),1),s("div",ht,[e(j)?(t(),a("div",Ct,r("".concat(e(j).bin,"******").concat(e(j).last4)),1)):d("",!0)]),s("div",$t,[s("div",bt,[s("div",{class:"icon",onClick:u[4]||(u[4]=(...b)=>e(m)&&e(m)(...b))}),u[12]||(u[12]=s("div",{class:"txt"},"CVV",-1))]),e(re)(e(l))?(t(),a("div",kt)):d("",!0),e(J)(e(l))?ie((t(),a("input",{key:1,class:"cvv-input input","onUpdate:modelValue":u[5]||(u[5]=b=>le(i)?i.value=b:null),style:{"user-select":"auto"},maxlength:e(c),type:"text",pattern:"[0-9]*",onInput:u[6]||(u[6]=(...b)=>e(v)&&e(v)(...b)),onFocus:u[7]||(u[7]=()=>e(f)(!0)),onBlur:u[8]||(u[8]=()=>e(f)(!1))},null,40,gt)),[[ce,e(i)]]):d("",!0)])])):d("",!0),e($)?d("",!0):(t(),a("div",xt,[g(ee)]))],64)}}}),Tt={class:"expcard cf"},It={class:"expcardInfo",dir:"auto"},Pt={class:"expcardInfo right",dir:"auto"},wt=x({__name:"index.pc",props:{update:{type:Function},onCancel:{type:Function},card:{},btnText:{}},setup(y,{expose:p}){const{exposed:o,onInput:i,expireInput:c,inputRef:l,title:v}=Ne();return p(o),(f,m)=>(t(),a("div",Tt,[s("div",It,r(e(v)),1),s("div",Pt,r(e(n._T)("新的有效期")),1),g(M,{class:"expcardInput",placeholder:"MM/YY",input:e(i),value:e(c),ref_key:"inputRef",ref:l},null,8,["input","value"])]))}}),St=w(wt,[["__scopeId","data-v-b33672c4"]]),Rt="pay-drawer",Nt=Z(Rt,y=>{const p=L(),o=N(()=>p.currentPayItemStep),i=N(()=>n.matchExpr(o.value,[[I.SAVED_CARD_LIST,""],[I.CARD_FRAME,n._T("填写卡信息")],[I.CARD_CVV,n._T("填写银行卡信息")],[I.CARD_CVV_IS_NOT_REMEMBER,n._T("填写银行卡信息")]]));function c(){y.props.onCancel&&y.props.onCancel()}function l(){Ve()}function v(){De()}function f(_){Q.value&&Ae(Q.value,_)}function m(){const _=window.navigator.userAgent,C=/OS (\d+)_?(\d+)?_?(\d+)?/.exec(_);return C?[parseInt(C[1],10),parseInt(C[2]||"0",10),parseInt(C[3]||"0",10)].join("."):null}function h(){try{const _=m(),C=_&&_.split(".")[0];if(console.log("ios version",C),C&&Number(C)<17)return{animation:"none"}}catch(_){return console.warn("ios version error",_),{}}return{}}const $={curStep:o,titleV:i,closePayDrawer:c,payNextStep:l,payPrevStep:v,update:f,isLowerThan17:h};return Me(()=>{}),{exposed:$}}),Mt={class:""},Vt={class:"pstep cf"},Dt={class:"psctrl"},At={class:"psecurity"},Et={class:"psecurity__text"},Ft={key:5,id:"three-ds-c"},Lt=x({__name:"pay-step.pc",props:{onCancel:{type:Function}},setup(y,{expose:p}){const{exposed:o,curStep:i,payNextStep:c,payPrevStep:l,update:v}=Nt();return p(o),(f,m)=>(t(),a("div",Mt,[g(as),s("div",Vt,[e(i)===e(I).HOME?(t(),k(Es,{key:0})):d("",!0),e(i)===e(I).CARD_FRAME?(t(),k(st,{key:1})):d("",!0),e(i)===e(I).CARD_CVV?(t(),k(de,{key:2})):d("",!0),e(i)===e(I).CARD_CVV_IS_NOT_REMEMBER?(t(),k(de,{key:3})):d("",!0),e(i)===e(I).CKO_CARD_MODIFY_EXPIRE?(t(),k(St,{key:4,card:e(Q),update:e(v)},null,8,["card","update"])):d("",!0),s("div",Dt,[s("div",{class:"psctrl__confirm -on",onClick:m[0]||(m[0]=(...h)=>e(c)&&e(c)(...h)),dir:"auto"},r(e(Ee)()),1),s("div",{class:"psctrl__cancel",onClick:m[1]||(m[1]=(...h)=>e(l)&&e(l)(...h)),dir:"auto"},r(e(n._T)("返回上一步")),1)]),s("div",At,[s("div",Et,r(e(n._T)("sawa全力保护你的信息安全")),1),m[2]||(m[2]=s("div",{class:"psecurity__icon"},null,-1))]),e(Fe)?(t(),a("div",Ft)):d("",!0)])]))}}),Bt=w(Lt,[["__scopeId","data-v-0e398589"]]),jt=Object.freeze(Object.defineProperty({__proto__:null,default:Bt},Symbol.toStringTag,{value:"Module"}));export{O as C,as as N,Bt as P,K as R,ks as _,Nt as a,xs as n,jt as p,Ts as s};
