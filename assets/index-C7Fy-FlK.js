import{g as z,i as y,c as M,d as s,r as F,a as j,b as S,e as O,f as l,o as V,p as L,h as R,j as a,k as i,l as e,u as r,t as f,n as k,m as c,q as b,s as P,_ as q}from"./index-xJNJdMR5.js";const G=y?"https://api.weyay.chat":"https://arab-pk.badambiz.com",J=G,K=v=>z("".concat(J,"/api/room/get_share_detail/"),{info:v});function Q(){function v(n){const u=s.getPlatform();if(u.isPc)return;const E=window.innerWidth;if(Math.min(window.screen.height,window.innerHeight)<5){setTimeout(()=>{v(n)},16);return}const w=Number((E/n).toFixed(3)),_=document.getElementById("viewport-config");_.name="viewport",_.content="width=device-width,initial-scale=".concat(w,",user-scalable=no,maximum-scale=").concat(w,",minimum-scale=").concat(w,",viewport-fit=cover"),document.documentElement.style.width="".concat(n,"px"),u.isIPhone?document.documentElement.style.height="100%":document.documentElement.style.height="".concat(window.innerHeight,"px")}v(750);const p=s.getArgsFromUrl("r");function t(){s.getPlatform().isAndroid?j():S()}function x(){const{origin:n}=window.location;if(n.indexOf("sawa-are")>=0)window.location.href="sawa://live_room?room_id=".concat(p);else{const u=B();window.location.href="".concat(u,"://live_room?room_id=").concat(p)}}let $=0;function T(){const n=document.createElement("iframe"),{body:u}=document;n.style.cssText="position:absolute;width:1px;height:1px;",window.location.origin.indexOf("sawa-are")>=0?n.src="sawa://live_room?room_id=".concat(p):n.src="".concat(B(),"://live_room?room_id=").concat(p),u.appendChild(n),clearTimeout($),$=setTimeout(()=>{t()},1500)}m.value.class==="diwania"||y||(s.getPlatform().isAndroid?T():x())}const m=M(()=>F()?{class:"weyayplay",name:s._T("weyayplay")}:y?{class:"weyay",name:s._T("weyay")}:s.getArgsFromUrl("ludo")?{class:"jackaroo",name:"Sawa Jackaroo"}:s.getArgsFromUrl("video")?{class:"diwania",name:"Diwania"}:{class:"sawa",name:"Sawa"});function B(){const v=s.getArgsFromUrl("ludo"),p=F();return v?"sawaludo":p?"weyayplay":y?"weyay":m.value.class==="jackaroo"?"sawaludo":m.value.class==="diwania"?"sawavideo":"sawaksa"}const X={style:{overflow:"scroll",height:"100%"}},Y={class:"header"},Z={key:0,class:"logo-weyayplay"},ee={key:1,class:"logo-weyay"},oe={key:2,class:"logoC"},te={class:"text"},se={class:"new-share",id:"new-share"},ae={key:0,class:"bottom"},ie={class:"title",dir:"auto"},ne={class:"card"},le={key:0,class:"head-r"},re={key:1,class:"dot-c"},de={key:0,class:"icon5"},ce={class:"name",dir:"auto"},ue={class:"num"},me={key:0,class:"home-icon"},ve={key:1},pe={key:0,class:"icon1"},ye={key:1,class:"icon7"},fe={key:3,class:"room-card"},_e={class:"room-name"},we={class:"room-name-top",dir:"auto"},he={class:"room-name-bottom"},ge={class:"breath"},ke=O({__name:"index",setup(v){const p=F(),t=l(!1),x=l(0),$=l(0),T=l(""),n=l(""),u=l(""),E=l(""),A=l(0),w=l(0),_=l(""),C=l(""),U=l(""),W=l(0),I=l(!1);V(async()=>{await L(),Q()}),R(async()=>{N()});async function N(){const h=s.getArgsFromUrl("info");if(h){const[o,{result:g,data:d,message:be}]=await K(h);o&&g===0&&(n.value=d.room_avatar,n.value=n.value.replace(/ /g,"+"),$.value=d.room_level,T.value=d.room_user_nickname,x.value=d.room_user_duid,u.value=d.room_id,E.value=d.uid,_.value=d.avatar,C.value=d.display_uid,U.value=d.nickname,d.room_id&&(t.value=!0))}document.addEventListener("visibilitychange",()=>{document.visibilityState!=="visible"&&(console.log("不可见了"),clearTimeout(A.value),clearTimeout(w.value))}),setTimeout(()=>{var o;document.getElementById("new-share")&&(W.value=(o=document.getElementById("new-share"))==null?void 0:o.scrollHeight,setTimeout(()=>{I.value=!0}))},500)}function D(){s.getPlatform().isAndroid?j():S()}function H(){s.getArgsFromUrl("ludo"),clearTimeout(A.value);const{origin:h}=window.location,o=B();if(h.indexOf("sawa-are")>=0)window.location.href="sawa://live_room?room_id=".concat(u.value);else if(s.getPlatform().isAndroid){const g=document.createElement("iframe"),{body:d}=document;g.style.cssText="position:absolute;width:1px;height:1px;",g.src="".concat(o,"://live_room?room_id=").concat(u.value),d.appendChild(g)}else window.location.href="".concat(o,"://live_room?room_id=").concat(u.value);A.value=setTimeout(()=>{m.value.class==="diwania"||y||D()},1e3)}return(h,o)=>(i(),a("div",X,[e("div",Y,[r(p)?(i(),a("div",Z)):r(y)?(i(),a("div",ee)):(i(),a("div",oe,[e("div",te,f(r(m).name),1),e("div",{class:k(["logo",["".concat(r(m).class)]])},null,2)]))]),e("div",se,[o[6]||(o[6]=e("div",{class:"top"},null,-1)),o[7]||(o[7]=e("div",{class:"top-star1"},null,-1)),o[8]||(o[8]=e("div",{class:"top-star2"},null,-1)),I.value?(i(),a("div",ae)):c("",!0),I.value?(i(),a("div",{key:1,class:"bottom-star1",style:b({top:"".concat(W.value-344,"px")})},null,4)):c("",!0),I.value?(i(),a("div",{key:2,class:"bottom-star2",style:b({top:"".concat(W.value-344,"px")})},null,4)):c("",!0),e("div",ie,f(r(s.sprintf)(r(s._T)("我在{appname}等你来"),{appname:r(m).name})),1),e("div",ne,[e("div",{class:k(["head",!t.value&&"head-room"]),style:b({backgroundImage:"url(".concat(t.value?n.value:_.value,")")})},[t.value?(i(),a("div",le)):c("",!0),t.value?(i(),a("div",re,o[0]||(o[0]=[e("div",{class:"dot dot1"},null,-1),e("div",{class:"dot dot2"},null,-1),e("div",{class:"dot dot3"},null,-1)]))):c("",!0)],6),o[3]||(o[3]=e("div",{class:"icon2"},null,-1)),o[4]||(o[4]=e("div",{class:"icon3"},null,-1)),e("div",{class:k(["icon4",{weyay:r(y)}])},null,2),t.value?c("",!0):(i(),a("div",de)),o[5]||(o[5]=e("div",{class:"icon6"},null,-1)),e("div",{class:"card-content",style:b({justifyContent:t.value?"space-between":"flex-start"})},[e("div",ce,f(t.value?T.value:U.value),1),e("div",ue,[P(f(t.value?x.value:C.value)+" ",1),t.value?(i(),a("div",me)):c("",!0),t.value?c("",!0):(i(),a("div",ve,"  ID"))]),t.value?(i(),a("div",pe)):c("",!0),t.value?c("",!0):(i(),a("div",ye)),!t.value&&r(m).class!=="diwania"?(i(),a("div",{key:2,class:k(["icon8",{weyay:r(y)}])},null,2)):c("",!0),t.value?(i(),a("div",fe,[e("div",_e,[e("div",we,f(U.value),1),e("div",he,f(C.value)+"   ID",1)]),e("div",{class:"room-head",style:b({backgroundImage:"url(".concat(_.value,")")})},null,4)])):c("",!0)],4),e("span",ge,[e("div",{class:"button",dir:"auto",onClick:H},[o[1]||(o[1]=e("div",{class:"button-icon button-left"},null,-1)),P(" "+f(r(s.sprintf)(r(s._T)("下载并打开{appname}"),{appname:r(m).name}))+" ",1),o[2]||(o[2]=e("div",{class:"button-icon button-right"},null,-1))]),e("div",{class:k(["button-c",{"-isLudo":r(m).class==="jackaroo"}])},null,2)])])])]))}}),$e=q(ke,[["__scopeId","data-v-61b929d7"]]);export{$e as default};
